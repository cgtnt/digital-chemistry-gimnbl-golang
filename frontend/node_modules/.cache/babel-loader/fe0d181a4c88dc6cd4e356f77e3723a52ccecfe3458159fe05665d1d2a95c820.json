{"ast":null,"code":"function addComponent(type,setContent,content){const newContent=[...content];newContent.push({id:crypto.randomUUID(),component:type,content:\"Novo polje\"});console.log(newContent);setContent(newContent);}function deleteComponent(id,setContent,content){let newContent=[...content];newContent=newContent.filter(component=>component.id!==id);setContent(newContent);}function moveComponent(id,direction,setContent,content){const componentIndex=content.findIndex(component=>component.id===id);let newContent=[...content];if(direction===\"up\"){if(componentIndex===0)return;let tmp=content[componentIndex-1];newContent[componentIndex-1]=content[componentIndex];newContent[componentIndex]=tmp;}if(direction===\"down\"){if(componentIndex===content.length-1)return;let tmp=content[componentIndex+1];newContent[componentIndex+1]=content[componentIndex];newContent[componentIndex]=tmp;}console.log(newContent);setContent(newContent);}function editComponentContent(id,input,setContent,content){const componentIndex=content.findIndex(component=>component.id===id);let newContent=[...content];newContent[componentIndex].content=input;console.log(newContent);setContent(newContent);}async function savePage(name,generalContent,propertiesContent,setAuth){try{const body=JSON.stringify({name:name,generalProperties:generalContent,specificProperties:propertiesContent});const token=localStorage.getItem(\"jwt-token\");async function deliverContent(){const res=await fetch(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/api/editor/elements/\").concat(name),{method:\"POST\",body:body,headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)}});const info=await res.json();console.log(info);if(res.ok)return true;}const success=await deliverContent();if(!success){setAuth(false);}else{alert(\"Element sačuvan\");}}catch(err){console.log(err);}}export{addComponent,deleteComponent,moveComponent,editComponentContent,savePage};","map":{"version":3,"names":["addComponent","type","setContent","content","newContent","push","id","crypto","randomUUID","component","console","log","deleteComponent","filter","moveComponent","direction","componentIndex","findIndex","tmp","length","editComponentContent","input","savePage","name","generalContent","propertiesContent","setAuth","body","JSON","stringify","generalProperties","specificProperties","token","localStorage","getItem","deliverContent","res","fetch","concat","process","env","REACT_APP_API_BASE_URL","method","headers","info","json","ok","success","alert","err"],"sources":["C:/Users/Korisnik/Documents/SWE/GOwebapp/frontend/src/components/Editor/EditorFunctions.js"],"sourcesContent":["function addComponent(type, setContent, content) {\r\n    const newContent = [...content]\r\n    newContent.push({\r\n        id: crypto.randomUUID(),\r\n        component: type,\r\n        content: \"Novo polje\"\r\n    })\r\n\r\n    console.log(newContent)\r\n\r\n    setContent(newContent)\r\n}\r\n\r\nfunction deleteComponent(id, setContent, content) {\r\n    let newContent = [...content]\r\n    newContent = newContent.filter((component) =>\r\n        component.id !== id\r\n    )\r\n    setContent(newContent)\r\n}\r\n\r\nfunction moveComponent(id, direction, setContent, content) {\r\n    const componentIndex = content.findIndex((component) => component.id === id)\r\n    let newContent = [...content]\r\n\r\n    if (direction === \"up\") {\r\n        if (componentIndex === 0) return\r\n\r\n        let tmp = content[componentIndex - 1]\r\n        newContent[componentIndex - 1] = content[componentIndex]\r\n        newContent[componentIndex] = tmp\r\n    }\r\n\r\n    if (direction === \"down\") {\r\n        if (componentIndex === (content.length - 1)) return\r\n\r\n        let tmp = content[componentIndex + 1]\r\n        newContent[componentIndex + 1] = content[componentIndex]\r\n        newContent[componentIndex] = tmp\r\n    }\r\n\r\n    console.log(newContent)\r\n    setContent(newContent)\r\n}\r\n\r\nfunction editComponentContent(id, input, setContent, content) {\r\n    const componentIndex = content.findIndex((component) => component.id === id)\r\n    let newContent = [...content]\r\n\r\n    newContent[componentIndex].content = input\r\n    console.log(newContent)\r\n    setContent(newContent)\r\n}\r\n\r\nasync function savePage(name, generalContent, propertiesContent, setAuth) {\r\n    try {\r\n        const body = JSON.stringify({\r\n            name: name,\r\n            generalProperties: generalContent,\r\n            specificProperties: propertiesContent\r\n        })\r\n\r\n        const token = localStorage.getItem(\"jwt-token\")\r\n\r\n        async function deliverContent() {\r\n            const res = await fetch(`${process.env.REACT_APP_API_BASE_URL}/api/editor/elements/${name}`, {\r\n                method: \"POST\",\r\n                body: body,\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Authorization\": `Bearer ${token}`\r\n                }\r\n            })\r\n\r\n            const info = await res.json()\r\n            console.log(info)\r\n\r\n            if (res.ok) return true\r\n        }\r\n\r\n        const success = await deliverContent()\r\n        if (!success) {\r\n            setAuth(false)\r\n        } else {\r\n            alert(\"Element sačuvan\")\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n    }\r\n}\r\n\r\nexport { addComponent, deleteComponent, moveComponent, editComponentContent, savePage } "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}